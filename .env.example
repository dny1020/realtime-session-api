###############################################
# Environment Configuration File
###############################################
#
# Copy this file to .env and adjust it to your environment.
# NEVER upload .env to Git. Use a secret manager in production.
#
# Generate strong secrets (examples):
#   SECRET_KEY:        openssl rand -hex 32
#   POSTGRES_PASSWORD: openssl rand -hex 24
#   ARI_PASSWORD:      openssl rand -hex 16

# App Configuration
APP_NAME=Contact Center API
DOMAIN_NAME=api.yourdomain.com
APP_VERSION=1.0.0
DEBUG=false
LOG_LEVEL=INFO

# ⚠️  CRITICAL: Generate with: openssl rand -hex 32
# Never use placeholder values in production!
SECRET_KEY=GENERATE_WITH_openssl_rand_hex_32_REPLACE_ME

# API Documentation (disable in production)
DOCS_ENABLED=false

# Metrics (Prometheus)
METRICS_ENABLED=true

# PostgreSQL Database (Production)
POSTGRES_DB=contact_center_db
POSTGRES_USER=contact_center
POSTGRES_PASSWORD=GENERATE_SECURE_PASSWORD_REPLACE_ME
DATABASE_URL=postgresql://contact_center:GENERATE_SECURE_PASSWORD_REPLACE_ME@postgres:5432/contact_center_db

# For local development without DB:
# DISABLE_DB=true

# Redis Configuration
REDIS_URL=redis://redis:6379/0

# Asterisk ARI Configuration
# NOTE: Asterisk is deployed as a separate service
# Point to your Asterisk server's ARI endpoint (internal network)
ARI_HTTP_URL=http://asterisk-server:8088/ari
ARI_USERNAME=ariuser
ARI_PASSWORD=GENERATE_SECURE_ARI_PASSWORD_REPLACE_ME
ARI_APP=contactcenter

# Default Call Settings
DEFAULT_CONTEXT=outbound-ivr
DEFAULT_EXTENSION=s
DEFAULT_PRIORITY=1
# Call timeout in milliseconds (30 seconds default)
DEFAULT_TIMEOUT=30000
DEFAULT_CALLER_ID=Outbound Call

# JWT Authentication
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
# Optional JWT claims (recommended for production)
JWT_ISSUER=https://api.yourdomain.com
JWT_AUDIENCE=https://api.yourdomain.com

# CORS Settings
# ⚠️  PRODUCTION: Set to your actual frontend domain(s), comma-separated
# NEVER use '*' in production!
ALLOWED_ORIGINS=https://app.yourdomain.com,https://admin.yourdomain.com

# Rate Limiting (Redis-backed)
RATE_LIMIT_REQUESTS=10
RATE_LIMIT_WINDOW=60

# Brute Force Protection
MAX_FAILED_LOGIN_ATTEMPTS=5
LOGIN_LOCKOUT_DURATION=900

# Circuit Breaker Configuration
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAIL_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60

# Caching Configuration
CACHE_ENABLED=true
CACHE_TTL_CALL_STATUS=30

# Data Retention
CALL_RETENTION_DAYS=90
CLEANUP_INTERVAL_MINUTES=60

# Observability - OpenTelemetry (Optional)
OTEL_ENABLED=false
OTEL_ENDPOINT=http://jaeger:4317
OTEL_SERVICE_NAME=contact-center-api

# Secrets Management (Optional - AWS/Vault)
USE_SECRETS_MANAGER=false
SECRETS_MANAGER_TYPE=aws
AWS_SECRETS_REGION=us-east-1
# VAULT_URL=https://vault.yourdomain.com
# VAULT_TOKEN=your_vault_token

# Celery/Flower (Task Queue Monitoring)
FLOWER_USER=admin
FLOWER_PASSWORD=GENERATE_SECURE_FLOWER_PASSWORD_REPLACE_ME

# Timezone
TZ=UTC

# Files & Directories
UPLOAD_DIR=./uploads
AUDIO_DIR=./audio
